<!DOCTYPE html>
<html lang="de" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>PHP-Hookpoints – Deutsches xmstore Handbuch</title>

<link rel="stylesheet" href="./resources/css/default.css"/>

<link rel="shortcut icon" href="https://de.wiki.xmstore.de/favicon.ico"/>

<!-- Navigation Header Styles -->
<style>
#xmstore-topnav {
  background: #f8f9fa;
  border-bottom: 1px solid #ddd;
  padding: 10px 0;
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}
#xmstore-topnav-inner {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 15px;
  display: table;
  width: 100%;
}
#xmstore-topnav-logo {
  display: table-cell;
  vertical-align: middle;
  width: 200px;
}
#xmstore-topnav-logo img {
  height: 35px;
  vertical-align: middle;
}
#xmstore-topnav-menu {
  display: table-cell;
  vertical-align: middle;
  text-align: right;
}
#xmstore-topnav-menu a {
  color: #333;
  text-decoration: none;
  padding: 8px 15px;
  display: inline-block;
}
#xmstore-topnav-menu a:hover {
  color: #0066cc;
}
#xmstore-topnav .dropdown {
  position: relative;
  display: inline-block;
}
#xmstore-topnav .dropdown-content {
  display: none;
  position: absolute;
  right: 0;
  background-color: #fff;
  min-width: 220px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  z-index: 9999;
  margin-top: 0;
}
#xmstore-topnav .dropdown-content a {
  display: block;
  padding: 10px 15px;
  text-align: left;
}
#xmstore-topnav .dropdown-content a:hover {
  background-color: #f5f5f5;
}
#xmstore-topnav .dropdown:hover .dropdown-content {
  display: block;
}
</style>

</head>
<body class="wiki-page">
<!-- xmstore Navigation -->
<div id="xmstore-topnav">
  <div id="xmstore-topnav-inner">
    <div id="xmstore-topnav-logo">
      <a href="https://www.xmstore.de">
        <img src="image/png/xmstore-logo.png" alt="xmstore">
      </a>
    </div>
    <div id="xmstore-topnav-menu">
      <a href="https://www.xmstore.de">Home</a>
      <a href="https://de.wiki.xmstore.de">Wiki</a>
      <div class="dropdown">
        <a href="#">Tour &#9662;</a>
        <div class="dropdown-content">
          <a href="https://www.xmstore.de/einrichten-anpassen-tour-1.html">Einrichten und Anpassen</a>
          <a href="https://www.xmstore.de/medien-hochladen-verwalten-tour-2.html">Medien hochladen und verwalten</a>
          <a href="https://www.xmstore.de/praesentieren-anbieten-tour-3.html">Präsentieren und Anbieten</a>
          <a href="https://www.xmstore.de/ausliefern-abrechnen-tour-4.html">Ausliefern und Abrechnen</a>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /xmstore Navigation -->
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		
		
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators mw-body-content">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="de">PHP-Hookpoints</h1>
									<div id="bodyContent" class="mw-body-content">
									
								
												
				<div id="mw-content-text" lang="de" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p>Die Hookpoints (z.Dt. "Einklinkpunkte") erlauben die Funktionsweise von xmstore an einigen vordefinierten Gelegenheiten zu personalisieren und aktiv in die Abläufe des Systems einzugreifen.
</p><p>Um nur einige Beispiele zu nennen, können via Hookpoints <abbr title="Der IPTC-NAA-Standard (oft kurz nur IPTC) dient zur Speicherung von Informationen zu Bildinhalten in Bilddateien (z. B. in TIFF- oder JPEG File Interchange Format-Dateien). IPTC-Daten aus anderen Programmen (z. B. Lightroom) k&#246;nnen &#252;bernommen und in xmstore weiter verarbeitet werden.">IPTC</abbr>-Felder schon während der Dateiverarbeitung in den Datenbankbestand übernommen werden oder zusätzliche Kriterien und Prüfungen bei der Kundenregistration hinzugefügt werden.
</p><p>Da die Hookpoints nativ im System arbeiten, sind komplexe Anpassungen und Abfragen möglich, welche via <abbr title="Ein Template ist eine Mustervorlage f&#252;r Dokumente, die wesentliche Layoutvorgaben enthalten und vom Anwender mit Inhalten gef&#252;llt werden.">Template</abbr> nicht zu realisieren wären.
</p><p><br />
</p>
<div style="margin: 1em 0 0 0; border: solid 1px #A0A0A0; background-color: #AACCFF; padding: 0.25em; font-weight: bold;">Hinweis</div>
<div style="margin: 0 0 0 0; border: solid 1px #888888; border-top-width: 0; padding: 0.25em; margin-bottom: 8px;">Die Hookpoints dürfen nur im Rahmen der Enterprise-Edition vom Kunden und mit entsprechenden Kenntnissen selbstständig angepasst werden. Bei allen anderen Editionen von xmstore ist die Überarbeitung und Erweiterung der Hookpoints nur durch unserem Team gestattet und technisch sinnvoll möglich. Bitte senden Sie uns dazu Ihre Anfrage.</div>
<p><br />
</p>
<h2><span class="mw-headline" id="Bearbeitung">Bearbeitung</span></h2>
<div style="margin: 1em 0 0 0; border: solid 1px #A0A0A0; background-color: #FFEEAA; padding: 0.25em; font-weight: bold;">Warnung</div>
<div style="margin: 0 0 0 0; border: solid 1px #888888; border-top-width: 0; padding: 0.25em; margin-bottom: 8px;">Fehler in der Anpassung der Hookpoints können zu einem fehlerhaft oder gar nicht funktionierenden System führen. Die Anfertigung einer <b><abbr title="Unter Backup versteht man die Datensicherung von einem Computer (Server), dies dient der Vorbeugung von Datenverlusten. Die Datensicherung sollte regelm&#228;&#223;ig in bestimmten Intervallen erfolgen.">Datensicherung</abbr></b> vor jeder Änderung wird dringend empfohlen.</div>
<p><br />
Vorraussetzungen zur Bearbeitung der Hookpoints:
</p>
<ul><li> <abbr title="Der PHP Hypertext Preprocessor ist eine in HTML eingebettete Scriptsprache welche Serverseitig ausgef&#252;hrt wird. Mit Hilfe von PHP kann man dynamische und interaktive Websites programmieren.">PHP</abbr>-Kenntnisse</li>
<li> Texteditor</li>
<li> <abbr title="Das File Transfer Protocol (FTP) dient zum Dateiaustausch zwischen unterschiedlichen Systemen im Internet (Upload/Download).">FTP</abbr>-Client</li></ul>
<p>Die Hookpoints sind für sowohl für Front- als auch für das <abbr title="Das Backend wird zur Administration durch den Betreiber und von den Medienautoren verwendet. Dagegen ist das Frontend die eigentliche und i.d.R. &#246;ffentliche Website des Systems auf ein Kunden Medieninhalte begutachten und anfordern kann.">Backend</abbr> in der datei <i>hooks.inc.php</i> im Verzeichnis <i>data</i> (Admin-<abbr title="Das File Transfer Protocol (FTP) dient zum Dateiaustausch zwischen unterschiedlichen Systemen im Internet (Upload/Download).">FTP</abbr>-Zugang) gespeichert und dokumentiert. Anpassungen an den Hookpoints werden an dieser Datei vorgenommen.
</p><p>Hookpoints äußern sich als normale Funktion. Diese Funktionen sind strikt benannt und erfüllen ihre Funktion nur bei korrekter Benennung. Umbenennen der Funktionen führt nicht zu Fehlern, allerdings dazu, dass der betreffende Hookpoint nicht mehr angewendet wird.
</p><p>Beschreibungen und Dokumentationen der einzelnen Hookpoints sind im PHPDoc-Format vor jeder Funktion zu finden.
</p><p>Genaueres zu einzelnen Hookpoints finden Sie in den ihrem Gebiet entsprechenden Artikeln.
</p>
<h2><span class="mw-headline" id="Beispiel">Beispiel</span></h2>
<p>Das folgende Beispiel veranschaulicht die Funktionsweise von Hookpoints anhand der Funktion <i>hookbe_iptc_postimport</i>. Ziel der Übung ist es das <abbr title="Der IPTC-NAA-Standard (oft kurz nur IPTC) dient zur Speicherung von Informationen zu Bildinhalten in Bilddateien (z. B. in TIFF- oder JPEG File Interchange Format-Dateien). IPTC-Daten aus anderen Programmen (z. B. Lightroom) k&#246;nnen &#252;bernommen und in xmstore weiter verarbeitet werden.">IPTC</abbr>-Feld <i>Caption</i> in den deutschen Titel zu übernehmen.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="k">function</span> <span class="nf">hookbe_iptc_postimport</span><span class="p">(</span><span class="nx">AS_Iptc</span> <span class="o">&amp;</span><span class="nv">$oIptc</span><span class="p">,</span> <span class="nv">$media_id</span><span class="p">,</span> <span class="nv">$sqlConnection</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Prequisiten laden</span>
    <span class="k">require_once</span><span class="p">(</span><span class="nx">WEBROOT</span> <span class="o">.</span> <span class="s1">&#39;/class/image.class.php&#39;</span><span class="p">);</span>

    <span class="c1">// Initialisierung    </span>
    <span class="nv">$oImage</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AS_Image</span><span class="p">(</span><span class="nv">$sqlConnection</span><span class="p">);</span>	<span class="c1">// Bild instanzieren</span>
    <span class="nv">$oImage</span><span class="o">-&gt;</span><span class="na">media_id</span> <span class="o">=</span> <span class="nv">$media_id</span><span class="p">;</span>		<span class="c1">// Media-ID zuweisen</span>
    <span class="nv">$oImage</span><span class="o">-&gt;</span><span class="na">language_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>			<span class="c1">// Sprach-ID für Deutsch setzen (kann je nach Systemeinstellungen abweichen)</span>

    <span class="c1">// Änderungen</span>
    <span class="nv">$oImage</span><span class="o">-&gt;</span><span class="na">title</span> <span class="o">=</span> <span class="nv">$oIptc</span><span class="o">-&gt;</span><span class="na">caption</span><span class="p">;</span>		<span class="c1">// Caption in Title kopieren</span>

    <span class="c1">// Speichern</span>
    <span class="nv">$oImage</span><span class="o">-&gt;</span><span class="na">saveLocaleData</span><span class="p">();</span>			<span class="c1">// Änderungen speichern</span>
<span class="p">}</span>
</pre></div>
<p>Hier gilt zu beachten, dass das Laden der Bilddaten ausgelassen wird, da davon ausgegangen wird, dass der Import mit einem neuen, unverschlagworteten Bild geschieht. Andernfalls würden im gezeigten Beispiel Daten gelöscht oder überschrieben.
</p>
<h2><span class="mw-headline" id="Liste_von_Hookpoints">Liste von Hookpoints</span></h2>
<div style="margin: 1em 0 0 0; border: solid 1px #A0A0A0; background-color: #FFEEAA; padding: 0.25em; font-weight: bold;">Achtung: Unvollständigkeit</div>
<div style="margin: 0 0 0 0; border: solid 1px #888888; border-top-width: 0; padding: 0.25em; margin-bottom: 8px;">Informationen in diesem Abschnitt sind aufgrund Softwareaktualisierungen unvollständig oder veraltet und bedürfen Ergänzungen.</div>
<ul><li> hookbe_media_processed(&lt;AS_Image|AS_Video|AS_Audio|AS_Misc&gt; $oMedia, $path[, AS_MediaPreview $oMediaPreview])</li>
<li> hookbe_framework_login</li>
<li> hookbe_framework_logout</li>
<li> hookbe_controller_init(string $module, string $view)</li>
<li> hookbe_controller_finish</li>
<li> hookbe_exif_import(array $exif, int $media_id)</li>
<li> hookbe_iptc_import(string $key, string $value, int $media_id)</li>
<li> hookbe_iptc_postimport(AS_Iptc $oIptc, int $media_id, resource $sqlConnection)</li>
<li> hookbe_media_save_locale_data(AS_MediaBase $oMedia, string $language_code, resource $sqlConnection)</li>
<li> hookfe_orderpdf_header(AS_Order $oOrder)</li>
<li> hookfe_orderpdf_footer(AS_Order $oOrder)</li>
<li> hookfe_display_media(&lt;AS_Image|AS_Video|AS_Audio|AS_Misc&gt; $oMedia, array $sqlRow, resource $sqlConnection)</li>
<li> hookfe_customer_login_validate</li>
<li> hookfe_customer_login</li>
<li> hookfe_customer_register_validate</li>
<li> hookfe_customer_register</li>
<li> hookfe_order_create(AS_Order $oOrder)</li>
<li> hookfe_order_issued(AS_Order $oOrder)</li>
<li> hook_print_currency_value(string $complete, string $amount, string $format, AS_Currency $oCurrency)</li></ul>

</div>
</div>					
								
							</div>
		</div>
				<div id="mw-navigation">
			
			<div id="mw-head">
			</div>
			<div id="mw-panel">
								<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="index.html" title="Hauptseite"></a></div>
				<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
					<h3 id="p-navigation-label">Navigation</h3>
					<div class="body">
						<ul>
							<li id="n-mainpage-description"><a href="index.html" title="Hauptseite besuchen">Hauptseite</a></li>
						</ul>
					</div>
				</div>
				<div class="portal" role="navigation" id="p-einleitung" aria-labelledby="p-einleitung-label">
					<h3 id="p-einleitung-label">Einleitung</h3>
					<div class="body">
						<ul>
							<li><a href="Willkommen.html">Willkommen</a></li>
							<li><a href="Support.html">Support</a></li>
							<li><a href="Wichtige_Schritte_zum_Start.html">Wichtige Schritte zum Start</a></li>
						</ul>
					</div>
				</div>
				<div class="portal" role="navigation" id="p-installation" aria-labelledby="p-installation-label">
					<h3 id="p-installation-label">Installation & Wartung</h3>
					<div class="body">
						<ul>
							<li><a href="Vorraussetzungen.html">Vorraussetzungen</a></li>
							<li><a href="Installation.html">Installation</a></li>
							<li><a href="Wartung.html">Wartung</a></li>
							<li><a href="Updates.html">Updates</a></li>
						</ul>
					</div>
				</div>
				<div class="portal" role="navigation" id="p-einrichten" aria-labelledby="p-einrichten-label">
					<h3 id="p-einrichten-label">Einrichten</h3>
					<div class="body">
						<ul>
							<li><a href="Grundlagen_Einrichtung.html">Grundlagen Einrichtung</a></li>
							<li><a href="Domain.html">Domain</a></li>
							<li><a href="Templates.html">Templates</a></li>
							<li><a href="Seiten.html">Seiten</a></li>
							<li><a href="Mehrsprachigkeit.html">Mehrsprachigkeit</a></li>
							<li><a href="Preismodelle.html">Preismodelle</a></li>
							<li><a href="Zahlungssysteme.html">Zahlungssysteme</a></li>
							<li><a href="Benutzer_und_Rechteverwaltung.html">Benutzer & Rechteverwaltung</a></li>
							<li><a href="Einstellungen.html">Einstellungen</a></li>
						</ul>
					</div>
				</div>
				<div class="portal" role="navigation" id="p-medien" aria-labelledby="p-medien-label">
					<h3 id="p-medien-label">Medien verwalten</h3>
					<div class="body">
						<ul>
							<li><a href="Medienformate.html">Medienformate</a></li>
							<li><a href="Upload-Verzeichnis.html">Upload-Verzeichnis</a></li>
							<li><a href="Freigabe.html">Freigabe</a></li>
							<li><a href="Verschlagwortung.html">Verschlagwortung</a></li>
							<li><a href="Suchwortdatenbank.html">Suchwortdatenbank</a></li>
							<li><a href="Kategorien.html">Kategorien</a></li>
						</ul>
					</div>
				</div>
				<div class="portal" role="navigation" id="p-praesentieren" aria-labelledby="p-praesentieren-label">
					<h3 id="p-praesentieren-label">Präsentieren & Anbieten</h3>
					<div class="body">
						<ul>
							<li><a href="Bestellprozess.html">Bestellprozess</a></li>
							<li><a href="Suche.html">Suche</a></li>
							<li><a href="Newsletter.html">Newsletter</a></li>
						</ul>
					</div>
				</div>
				<div class="portal" role="navigation" id="p-ausliefern" aria-labelledby="p-ausliefern-label">
					<h3 id="p-ausliefern-label">Ausliefern & Abrechnen</h3>
					<div class="body">
						<ul>
							<li><a href="Bestellungen_verwalten.html">Bestellungen verwalten</a></li>
							<li><a href="Statistiken.html">Statistiken</a></li>
						</ul>
					</div>
				</div>
				<div class="portal" role="navigation" id="p-programmierung" aria-labelledby="p-programmierung-label">
					<h3 id="p-programmierung-label">Programmierung</h3>
					<div class="body">
						<ul>
							<li><a href="Grundlagen_Programmierung.html">Grundlagen</a></li>
							<li><a href="PHP-Hookpoints.html">PHP-Hookpoints</a></li>
							<li><a href="Media-Filter.html">Media-Filter</a></li>
							<li><a href="Eigene_Zahlungssysteme.html">Eigene Zahlungssysteme</a></li>
						</ul>
					</div>
				</div>
			</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="./Deutsches_xmstore_Handbuch:Datenschutz.html" title="Deutsches xmstore Handbuch:Datenschutz">Datenschutz</a></li>
											
											<li id="footer-places-disclaimer"><a href="./Deutsches_xmstore_Handbuch:Impressum.html" title="Deutsches xmstore Handbuch:Impressum">Haftungsausschluss</a></li>
									</ul>
										
						<div style="clear:both"></div>
		</div>
		
	</body>
</html>
